[gd_scene load_steps=15 format=3 uid="uid://cl8gh5ddkrxvj"]

[ext_resource type="Texture2D" uid="uid://cut78vu6xcbif" path="res://images/spritesheet-main.png" id="1_gxkiw"]
[ext_resource type="Script" path="res://Goal2D.gd" id="1_mqn7i"]
[ext_resource type="Script" path="res://BasicTileMap.gd" id="2_ema4a"]
[ext_resource type="Script" path="res://PlayerCharacterBody2D.gd" id="3_1beor"]
[ext_resource type="Texture2D" uid="uid://bp5dwludfpd4s" path="res://images/Player-walking.png" id="4_gey70"]
[ext_resource type="Script" path="res://GameControl.gd" id="6_7lp01"]
[ext_resource type="Script" path="res://ScoreNode.gd" id="7_iey11"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0ykvs"]
texture = ExtResource("1_gxkiw")
1:5/0 = 0
1:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:5/0/physics_layer_0/angular_velocity = 0.0
1:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:3/0 = 0
1:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:3/0/physics_layer_0/angular_velocity = 0.0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:6/0 = 0
1:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:6/0/physics_layer_0/angular_velocity = 0.0
1:7/0 = 0
1:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:7/0/physics_layer_0/angular_velocity = 0.0
2:6/0 = 0
2:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:6/0/physics_layer_0/angular_velocity = 0.0
2:7/0 = 0
2:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:7/0/physics_layer_0/angular_velocity = 0.0
3:7/0 = 0
3:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:7/0/physics_layer_0/angular_velocity = 0.0
1:8/0 = 0
1:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:8/0/physics_layer_0/angular_velocity = 0.0
2:8/0 = 0
2:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:8/0/physics_layer_0/angular_velocity = 0.0
3:8/0 = 0
3:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:8/0/physics_layer_0/angular_velocity = 0.0
4:8/0 = 0
4:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:8/0/physics_layer_0/angular_velocity = 0.0
5:7/0 = 0
5:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:7/0/physics_layer_0/angular_velocity = 0.0
5:8/0 = 0
5:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:8/0/physics_layer_0/angular_velocity = 0.0
5:9/0 = 0
5:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:9/0/physics_layer_0/angular_velocity = 0.0
5:10/0 = 0
5:10/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:10/0/physics_layer_0/angular_velocity = 0.0
6:10/0 = 0
6:10/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:10/0/physics_layer_0/angular_velocity = 0.0
7:10/0 = 0
7:10/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:10/0/physics_layer_0/angular_velocity = 0.0
7:9/0 = 0
7:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:9/0/physics_layer_0/angular_velocity = 0.0
7:8/0 = 0
7:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:8/0/physics_layer_0/angular_velocity = 0.0
7:7/0 = 0
7:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:7/0/physics_layer_0/angular_velocity = 0.0
6:7/0 = 0
6:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:7/0/physics_layer_0/angular_velocity = 0.0
6:8/0 = 0
6:8/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:8/0/physics_layer_0/angular_velocity = 0.0
6:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:9/0 = 0
6:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:9/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_g6sqg"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_0ykvs")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b5vdo"]
size = Vector2(9, 12)

[sub_resource type="Animation" id="Animation_d5n75"]
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [1, 2, 3, 4, 5, 6]
}

[sub_resource type="Animation" id="Animation_y0aie"]
resource_name = "run"
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [1, 2, 3, 4, 5, 5]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pnaij"]
_data = {
"RESET": SubResource("Animation_d5n75"),
"run": SubResource("Animation_y0aie")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v6yb8"]

[node name="Game" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_g6sqg")
format = 2
layer_1/name = ""
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = false
layer_1/y_sort_origin = 0
layer_1/z_index = 0
layer_1/tile_data = PackedInt32Array()
script = ExtResource("2_ema4a")

[node name="PlayerCharacterBody2D" type="CharacterBody2D" parent="."]
script = ExtResource("3_1beor")

[node name="Sprite2D" type="Sprite2D" parent="PlayerCharacterBody2D"]
position = Vector2(24, 26)
texture = ExtResource("4_gey70")
hframes = 8
frame = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerCharacterBody2D"]
position = Vector2(24.5, 26)
shape = SubResource("RectangleShape2D_b5vdo")

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayerCharacterBody2D"]
libraries = {
"": SubResource("AnimationLibrary_pnaij")
}

[node name="ToiletArea2D" type="Area2D" parent="."]
position = Vector2(431, 228)
script = ExtResource("1_mqn7i")

[node name="Sprite2D" type="Sprite2D" parent="ToiletArea2D"]
texture = ExtResource("1_gxkiw")
region_enabled = true
region_rect = Rect2(16.5463, 15.8548, 14.6763, 19.1921)

[node name="ToiletCollision2D" type="CollisionShape2D" parent="ToiletArea2D"]
shape = SubResource("RectangleShape2D_v6yb8")

[node name="GameControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("6_7lp01")

[node name="ScoreNode" type="Node2D" parent="."]
script = ExtResource("7_iey11")

[node name="CurrentScoreLabel" type="Label" parent="ScoreNode"]
offset_left = 479.0
offset_top = 10.0
offset_right = 519.0
offset_bottom = 33.0

[connection signal="body_entered" from="ToiletArea2D" to="PlayerCharacterBody2D" method="_on_toilet_area_2d_body_entered"]
